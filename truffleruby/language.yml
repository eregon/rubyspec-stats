---
exceptions:
- "Magic comments in stdin are optional FAILED\nExpected \n\"Switch to inspect mode.\n$magic_comment_result = __ENCODING__.name\n\\\"UTF-8\\\"\n\nUTF-8\" == \"UTF-8\"\nto be truthy but was false\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:10:in `block (2 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:46:in `<top (required)>'"
- "Magic comments in stdin are case-insensitive FAILED\nExpected \n\"Switch to inspect mode.\n# CoDiNg:   bIg5\nnil\n$magic_comment_result = __ENCODING__.name\n\\\"UTF-8\\\"\n\nUTF-8\" == \"Big5\"\nto be truthy but was false\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:14:in `block (2 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:46:in `<top (required)>'"
- "Magic comments in stdin must be at the first line FAILED\nExpected \n\"Switch to inspect mode.\n\n# encoding: big5\nnil\n$magic_comment_result = __ENCODING__.name\n\\\"UTF-8\\\"\n\nUTF-8\" == \"UTF-8\"\nto be truthy but was false\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:18:in `block (2 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:46:in `<top (required)>'"
- "Magic comments in stdin must be the first token of the line FAILED\nExpected \n\"Switch to inspect mode.\n1 + 1 # encoding: big5\n2\n$magic_comment_result = __ENCODING__.name\n\\\"UTF-8\\\"\n\nUTF-8\" == \"UTF-8\"\nto be truthy but was false\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:22:in `block (2 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:46:in `<top (required)>'"
- "Magic comments in stdin can be after the shebang FAILED\nExpected \n\"Switch to inspect mode.\n#!/usr/bin/ruby\nnil\n# encoding: big5\nnil\n$magic_comment_result = __ENCODING__.name\n\\\"UTF-8\\\"\n\nUTF-8\" == \"Big5\"\nto be truthy but was false\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:26:in `block (2 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:46:in `<top (required)>'"
- "Magic comments in stdin can take Emacs style FAILED\nExpected \n\"Switch to inspect mode.\n# -*- encoding: big5 -*-\nnil\n$magic_comment_result = __ENCODING__.name\n\\\"UTF-8\\\"\n\nUTF-8\" == \"Big5\"\nto be truthy but was false\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:30:in `block (2 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:46:in `<top (required)>'"
- "Magic comments in stdin can take vim style FAILED\nExpected \n\"Switch to inspect mode.\n# vim: filetype=ruby, fileencoding=big5, tabsize=3, shiftwidth=3\nnil\n$magic_comment_result = __ENCODING__.name\n\\\"UTF-8\\\"\n\nUTF-8\" == \"Big5\"\nto be truthy but was false\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:34:in `block (2 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:46:in `<top (required)>'"
- "Magic comments in stdin determine __ENCODING__ FAILED\nExpected \n\"Switch to inspect mode.\n# encoding: big5\nnil\n$magic_comment_result = __ENCODING__.name\n\\\"UTF-8\\\"\n\nUTF-8\" == \"Big5\"\nto be truthy but was false\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:38:in `block (2 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:46:in `<top (required)>'"
- "Magic comments in stdin do not cause bytes to be mangled by passing them through the wrong encoding FAILED\nExpected exit status is 0 but actual is 1 for command ruby_exe(\"/home/runner/.rubies/truffleruby-head/bin/truffleruby -r/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/fixtures/print_magic_comment_result_at_exit.rb < /home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/fixtures/bytes_magic_comment.rb\")\nOutput:\n  Switch to inspect mode.\n  # encoding: big5\n  nil\n  $magic_comment_result = '\xA7A\xA6n'.bytes.inspect\n\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:50:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:42:in `block (2 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/magic_comment_spec.rb:46:in `<top (required)>'"
- "Pattern matching extends case expression with case/in construction ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:124:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:124:in `block (2 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching allows using then operator ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:135:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:135:in `block (2 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching checks patterns until the first matching ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:221:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:221:in `block (2 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching executes else clause if no pattern matches ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:234:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:234:in `block (2 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching evaluates the case expression once for multiple patterns, caching the result ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:266:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:266:in `block (2 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching value pattern matches an object such that pattern === object ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:374:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:374:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching value pattern allows string literal with interpolation ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:413:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:413:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching Array pattern supports form Constant[pat, pat, ...] ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:626:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:626:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching Array pattern supports form [pat, pat, ...] ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:635:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:635:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching Array pattern matches an object with #deconstruct method which returns an array and each element in array matches element in pattern ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:670:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:670:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching Array pattern calls #deconstruct even on objects that are already an array ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:707:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:707:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching Array pattern does not match partially by default ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:811:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:811:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching Array pattern matches [] with [] ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:838:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:838:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching Hash pattern supports form Constant(id: pat, id: pat, ...) ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:880:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:880:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching Hash pattern supports form Constant[id: pat, id: pat, ...] ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:889:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:889:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching Hash pattern supports form {id: pat, id: pat, ...} ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:898:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:898:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching Hash pattern supports 'string': key literal ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:980:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:980:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching Hash pattern matches an object with #deconstruct_keys method which returns a Hash with equal keys and each value in Hash matches value in pattern ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:1024:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:1024:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching Hash pattern calls #deconstruct_keys per pattern ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:1040:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:1040:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching Hash pattern can match partially ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:1206:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:1206:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching Hash pattern matches {} with {} ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:1215:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:1215:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching refinements are used for #deconstruct ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:1271:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:1271:in `block (4 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:1268:in `initialize'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:1268:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
- "Pattern matching refinements are used for #=== in constant pattern ERROR\nSyntaxError: (eval):1: syntax error, unexpected keyword_in\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:1319:in `eval'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:1319:in `block (4 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:1316:in `initialize'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:1316:in `block (3 levels) in <top (required)>'\n/home/runner/work/rubyspec-stats/rubyspec-stats/spec/ruby/language/pattern_matching_spec.rb:3:in `<top (required)>'"
time: 31.125435
files: 78
examples: 2643
expectations: 4686
failures: 9
errors: 23
tagged: 127
